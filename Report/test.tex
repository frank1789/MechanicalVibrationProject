\begin{tikzpicture}
%\draw[help lines] (0,0) grid [step = 5 mm](15,3.5);
%\foreach \x in {0,1,...,15}
%   \draw [help lines] (\x,0) node [below,%
%          font=\footnotesize] {$\x$} -- (\x,0);
%\foreach \y in {0,1,...,3.5}
%   \draw [help lines] (0,\y) node [left,%
%          font=\footnotesize] {$\y$} -- (0,\y);

% Define style for spring
\tikzstyle{springshape}=[decoration={aspect=0.6, segment length=1.5mm, amplitude=1mm, coil}, decorate];
\newcommand{\spring}[3]{%
	% pass 3 arguments:
	% arg1: #1 coordinate x; arg2:  #2 coordiante y; arg3: #3 number of componets
	\coordinate (attachleftside) at ({#1},{#2});
	\coordinate (startspring) at ($(attachleftside) + (0.25,0)$);
	\coordinate	(endspring) at ($(startspring) + (2,0)$);
	\coordinate	(attachrightside) at ($(endspring) + (0.25,0)$);
	\draw (attachleftside) -- (startspring);
	\draw [springshape] (startspring) -- (endspring) node[draw=none,pos=0.5, above] (){$k_{#3}$};
	\draw (endspring) -- (attachrightside);
}

% Define style for dampers
\tikzstyle{dampshape}=[decoration={markings, mark connection node=dmp,
  mark=at position 0.5 with
  {
    \node (dmp) [inner sep=0pt,transform shape,rotate=-90,minimum width=15pt,minimum height=3pt,draw=none] {};
    \draw  ($(dmp.north east)+(2pt,0)$) -- (dmp.south east) -- (dmp.south west) -- ($(dmp.north west)+(2pt,0)$);
    \draw ($(dmp.north)+(0,-5pt)$) -- ($(dmp.north)+(0,5pt)$);
  }
}, decorate]
\newcommand{\dampers}[3]{%
	% pass 3 arguments:
	% arg1: #1 coordinate x; arg2: #2 coordiante y; arg3: #3 number of componets
	\coordinate (attachleftside) at ({#1},{#2});
	\coordinate (startdamp) at ($(attachleftside) + (0.25,0)$);
	\coordinate	(enddamp) at ($(startdamp) + (2,0)$);
	\coordinate	(attachrightside) at ($(enddamp) + (0.25,0)$);
	\draw (attachleftside) -- (startdamp);
	\draw [{dampshape}] (startdamp) -- (enddamp) node[draw=none,pos=0.75, above] (){$c_{#3}$};
	\draw (enddamp) -- (attachrightside);
}

% draw gear
\newcommand{\gear}[3]{%
  \def\modu{#1mm}
  \def\Zb{#2}
  \def\AngleA{#3}

  \pgfmathsetmacro{\Rpr}{\Zb*\modu/2}
  \pgfmathsetmacro{\Rb}{\Rpr*cos(\AngleA)}
  \pgfmathsetmacro{\Rt}{\Rpr+\modu}
  \pgfmathsetmacro{\Rp}{\Rpr-1.25*\modu}
  \pgfmathsetmacro{\AngleT}{pi/180*acos(\Rb/\Rt)}
  \pgfmathsetmacro{\AnglePr}{pi/180*acos(\Rb/\Rpr)}
  \pgfmathsetmacro{\demiAngle}{180/\Zb}
  \pgfmathsetmacro{\Angledecal}{(\demiAngle-2*\AnglePr)/2}

  \foreach \zz in{1,2,...,\Zb}{
    \draw
    ({(\zz))/\Zb*360-\Angledecal}:\Rb)
    -- (\zz/\Zb*360-\Angledecal:\Rp)
    to[bend right=\demiAngle]
    (\zz/\Zb*360+\Angledecal:\Rp)
    --
    plot[domain=-0:\AngleT,smooth,variable=\t]
    ({{180/pi*(-\t+tan(180/pi*\t)) +\zz/\Zb*360+\Angledecal}:\Rb/cos(180/pi*\t)})
    %
    to[bend right=\demiAngle]
    ({{180/pi*(\AngleT+tan(180/pi*-\AngleT)) +(\zz+1)/\Zb*360-\Angledecal}:
      \Rb/cos(180/pi*-\AngleT)})
    %
    plot[domain=-\AngleT:-0,smooth,variable=\t]
    ({{180/pi*(-\t+tan(180/pi*\t)) +(\zz+1)/\Zb*360-\Angledecal}:\Rb/cos(180/pi*\t)});
  }
}

% Define ground
\tikzstyle{ground}=[fill,pattern=north east lines,draw=none,minimum width=2cm,minimum height=0.3cm, rotate=90];
\tikzstyle{groundc}=[fill,pattern=north east lines,draw=none,minimum width=10mm,minimum height=0.2cm, rotate=90];
\begin{scope}[xshift=-3cm]
	\draw  (0,1) circle (0.5);
	\draw  (-2,0) rectangle (2,0.5);
	\draw[ultra thick] (2,0.25) -- (3,0.25);
\end{scope}
% generate plot
\begin{scope}[xshift=0cm]
	\draw (0,0) rectangle (2,1) node[draw=none,pos=0.5] () {$m_{1}$};
	\spring{2}{0.5}{1};
	\dampers{1}{2}{1};
	\draw [thick] (3.5,1.5) -- (3.5,2.5);
	\node [groundc,anchor=north]  at (3.5,2){};
	\draw [thick] (1,1) -- (1,2);
	\draw [thick, gray](1,-0.35)--(1,-0.65);
	\draw [-stealth, thick, gray] (1,-0.5) -- (2,-0.5);
	\node [draw=none, anchor = north west] at (2,-0.5) {$x_1$};
\end{scope}
\begin{scope}[xshift=4.5cm]
	\draw (0,0) rectangle (2,1) node[draw=none,pos=0.5] () {$m_{2}$};
	\spring{2}{0.5}{2};
	\dampers{1}{2}{2};
	\draw [thick] (3.5,1.5) -- (3.5,2.5);
	\node [groundc,anchor=north]  at (3.5,2){};
	\draw [thick] (1,1) -- (1,2);
	\draw [thick, gray](1,-0.35)--(1,-0.65);
	\draw [-stealth, thick, gray] (1,-0.5) -- (2,-0.5);
	\node [draw=none, anchor = north west] at (2,-0.5) {$x_2$};
\end{scope}
\begin{scope}[xshift=9cm]
	\draw (0,0) rectangle (2,1) node[draw=none,pos=0.5] () {$m_{3}$};
	\spring{2}{0.5}{3};
	\dampers{1}{2}{3};
	\draw [thick] (3.5,1.5) -- (3.5,2.5);
	\node [groundc,anchor=north]  at (3.5,2){};
	\draw [thick] (1,1) -- (1,2);
	\draw [thick] (4.5,-0.5) -- (4.5,1.5);
	\node [ground,anchor=north]  at (4.5,0.5){};
	\draw [-stealth, thick, gray] (1,-0.5) -- (2,-0.5);
	\draw [thick, gray](1,-0.35)--(1,-0.65);
	\node [draw=none, anchor = north west] at (2,-0.5) {$x_3$};
\end{scope}
\end{tikzpicture}
